(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3468],{99065:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/manageaddress",function(){return s(72389)}])},28894:function(e,t,s){"use strict";s.d(t,{A_:function(){return n},BK:function(){return d},Be:function(){return r},h:function(){return c},hv:function(){return a},nd:function(){return i},w7:function(){return o}});var l=s(7496);function n(e,t){return{type:l.PA,name:e,flag:t}}function a(e,t){return{type:l.qo,popup:e,cartname:t}}function o(e){return console.log("eval1..",e),{type:l.C6,id:e}}function c(e){return{type:l.N9,userid:e}}function r(e,t,s,n,a,o,c){return{type:l.r0,title:e,firstname:t,lastname:s,emailvalue:n,mobile:a,company:o,receiveOffers:c}}function i(e,t){return console.log("sendUpdateProfileEmail actions",e,t),{type:l.ze,email:e,firstName:t}}function d(e){return console.log("action flag",e),{type:l.te,flag:e}}},26617:function(e,t,s){"use strict";var l=s(85893);s(67294);var n=s(41664),a=s.n(n);t.Z=function(e){return(0,l.jsx)("div",{className:"breadcrumb-area mb-20",id:"breadcrumb",children:(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"breadcrumb-wrap",children:(0,l.jsx)("nav",{"aria-label":"breadcrumb",children:(0,l.jsxs)("ul",{className:"breadcrumb",children:[(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"/",children:"Home"})}),"Brand"===e.myAccount?(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)(a(),{href:"/allbrands",children:"Brands"})}):e.myAccount&&(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)(a(),{href:"/account/dashboard",children:e.myAccount})}),e.productname&&(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)(a(),{href:"/product",children:e.productname})}),(0,l.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e.activepage})]})})})})})})})}},72389:function(e,t,s){"use strict";s.r(t),s.d(t,{ManageAddress:function(){return C},default:function(){return I}});var l=s(85893),n=s(67294),a=s(22920),o=s(14416),c=s(68350),r=s(47303),i=s(81606),d=s(15211),u=s(58907),m=s(57596),h=s(12797),g=s(91755),p=s(87155),y=s(23494),x=s(26617),v=s(62944),b=s(58968),j=s(4605),f=s(42657),_=s(28894),N=s(64331),S=s(7329),k=function(e){(0,j.v)({key:"myAccount",reducer:N.Z}),(0,f.h)({key:"myAccount",saga:S.Z});let[t,s]=(0,n.useState)(""),[a,c]=(0,n.useState)(!1),[i,d]=(0,n.useState)(!1),u=(0,o.v9)(e=>e.myAccount),m=(0,o.I0)();console.log("myaccountReducer",u);let h=()=>{m((0,_.BK)(!1))};return(0,n.useEffect)(()=>{!0===a&&setTimeout(()=>{c(!1),d(!0)},1e3)},[a]),(0,n.useEffect)(()=>{!0===i&&(m((0,_.BK)(!1)),e.Fetchlist())},[i]),(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(v.Z,{msg:t,close:()=>{c(!1)}}),(0,l.jsx)("div",{className:"modal show",id:"RemoveAddressModal",style:{paddingRight:"17px",display:"block"},children:(0,l.jsx)("div",{className:"modal-dialog",children:(0,l.jsx)("div",{className:"modal-content",children:(0,l.jsxs)("div",{className:"modal-body text-center",children:[(0,l.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:h,children:"\xd7"}),(0,l.jsx)("div",{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)("p",{children:"Would you like to remove address?"})}),(0,l.jsxs)("li",{children:[(0,l.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:e=>{r.Z.deleteaddress(e,u&&u.deletedaddId).then(e=>{c(!0),s(e),console.log(e)}).catch(e=>{console.log("error:::",e)})},children:"Yes"}),(0,l.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:h,children:"No"})]})]})})]})})})})]})};s(78088);var w=s(11163),A=s(11560),P=s(31955);function C(e){let t=(0,w.useRouter)(),[s,j]=(0,n.useState)(!1),[f,_]=(0,n.useState)([]),[N,S]=(0,n.useState)([]),[C,I]=(0,n.useState)([]),[Z,D]=(0,n.useState)([]),[E,O]=(0,n.useState)(!1),[T,L]=(0,n.useState)(!1),[J,F]=(0,n.useState)(""),[G,B]=(0,n.useState)(!1),[z,U]=(0,n.useState)([]),[K,M]=(0,n.useState)(""),[R,W]=(0,n.useState)(""),[$,X]=(0,n.useState)(!1),[Y,q]=(0,n.useState)(""),[Q,H]=(0,n.useState)(!1),[V,ee]=(0,n.useState)(!1),et=(0,o.v9)(e=>e.myAccount);console.log("editdata",Z);let[es,el]=(0,n.useState)(),[en,ea]=(0,n.useState)(!1);console.log("isUserLogin--",es);let eo=(0,o.I0)(),ec=()=>{q(!1)};function er(){r.Z.getcustomeraddress({}).then(e=>{S(e)})}(0,n.useEffect)(()=>{window.localStorage&&(console.log("47--".concat(window.atob(localStorage.getItem("CustGUID")))),Object.prototype.hasOwnProperty.call(localStorage,"CustGUID")?null!==window.atob(localStorage.getItem("CustGUID"))||void 0!==window.atob(localStorage.getItem("CustGUID"))||"00000000-0000-0000-0000-000000000000"!==window.atob(localStorage.getItem("CustGUID"))?(console.log("51"),el(!0)):(console.log("54"),el(!1)):el(!1))},[es]),(0,n.useEffect)(()=>{i.Z.GoogleApi({}).then(e=>{_(e)})},[]),(0,n.useEffect)(()=>{er()},[E]);let ei=e=>{let t=JSON.parse(e),s=[],l=[],n=[];return(t.results&&t.results.length>0&&t.results.map((e,t)=>{s.length>0||e.address_components.map((e,a)=>{!(l.length>0)&&e.types&&e.types.length>0&&e.types.map((e,o)=>{n.length>0||"sublocality"!=e||(s.push(t),n.push(o),l.push(a))})})}),s.length>0&&n.length>0&&l.length>0)?[t.results[s].address_components[l]]:[{long_name:"",short_name:"",types:["political","sublocality","sublocality_level_1"]}]},ed=(e,t)=>{console.log("iddddddddddd",t),j(!0),O(!0),ea(!0),D(e)},eu=e=>{console.log("zbbx",e),r.Z.deleteaddress(e).then(e=>{console.log("uuuuu",e),X(!0),q("Address Deleted Successfully"),setTimeout(()=>{er()},3e3)})};function em(t){void 0!==e&&r.Z.deleteaddress(t).then(e=>{console.log("response",e),q(e)}).catch(e=>{console.log("error:::",e)})}(0,n.useEffect)(()=>{},[Y]);let eh=e=>{console.log("sss"),F(document.getElementById("txtDeliveryLocalityForCheckout").value);let t=localStorage.getItem("generatedtoken");setTimeout(()=>fetch("".concat(g.ZP.urls.baseUrl).concat(g.ZP.endPoints.autocomplete,"key=").concat(f.GooglePlacesApiKey,"&keyword=").concat(e.target.value),{method:"POST",mode:"cors",headers:{accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}).then(e=>e.text()).then(e=>{console.log("registerresponse",e);let t=JSON.parse(e);U(t.predictions),B(!0)}),2e3)},eg=e=>{if(e&&e.length>1){if("Pune"===e[0].long_name||"Pune"===e[1].long_name)return!0}else if(e&&1==e.length&&"Pune"===e[0].long_name)return!0;return!1},ep=()=>{console.log("ss"),navigator.geolocation.getCurrentPosition(e=>{fetch("".concat(g.ZP.endPoints.geocode,"key=").concat(f.GooglePlacesApiKey,"&latlng=").concat(e.coords.latitude,",").concat(e.coords.longitude,"&sensor=",!0),{method:"GET",headers:{accept:"application/json"}}).then(e=>e.text()).then(t=>{let s=localStorage.getItem("generatedtoken");console.log("registerresponse",t);let l=ei(t),n=JSON.parse(t).results[0].address_components.filter(e=>"postal_code"===e.types[0]),a=JSON.parse(t).results[0].address_components.filter(e=>"locality"===e.types[0]||"administrative_area_level_3"===e.types[0]),o=JSON.parse(t).results[0].address_components.filter(e=>"administrative_area_level_1"===e.types[0]),c=ei(t);return console.log("manageaddressCity".concat(JSON.stringify(a))),console.log("address.length > 0 && pincode.length > 0 && area.length > 0 && state.length > 0 && city[0] && city[0].long_name === 'Pune'",l,n,c,o,a),fetch("".concat(g.ZP.endPoints.checkserviceavailability,"setsession=true&address=").concat(l[0].long_name,"&area=").concat(c[0].long_name,"&city=").concat(a[0].long_name,"&lat=").concat(e.coords.latitude,"&lng=").concat(e.coords.longitude,"&pincode=").concat(n[0].long_name,"&placeid=").concat(JSON.parse(t).results[0].place_id,"&state=").concat(o[0].long_name),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(s)}}).then(e=>e.json()).then(e=>{"Available"==e?(ea(!1),l.length>0&&n.length>0&&c.length>0&&o.length>0&&eg(a)&&(localStorage.setItem("sublocalityvalue",a[0].long_name),localStorage.setItem("pincodevalue",n[0].long_name),P.Z.set("sublocalityvalue",a[0].long_name,{expires:15}),P.Z.set("pincodevalue",n[0].long_name,{expires:15})),console.log({address:l,pincode:n,city:a}),M(n),console.log("address==>>>nis",l),W(a[0].long_name),X(!0),q("Delivery location is updated "),setTimeout(()=>{X(!1)},3e3),F(l[0].long_name),eo((0,p.ym)(l[0].long_name,n[0].long_name,!0))):(H(!0),F(""),q("We are currently operational in Pune (selected locations). We're working on it and hang tight, we will serve you very soon!"),setTimeout(()=>{H(!1)},3e3))})})},()=>{ee(!0)})};(0,n.useEffect)(()=>{y.Z.getcustomerwalletbalance({}).then(e=>{console.log("uuuuu",e),I(e)}).catch(e=>{console.log("error:::",e)})},[]),(0,n.useEffect)(()=>{setInterval(()=>{X(!1)},5e3)},[ec]),(0,n.useEffect)(()=>{!0===$&&""!==K&&""!==R&&L(!1)},[K,R,$]);let ey=()=>{L(!1)};return console.log("customerrrrr",N,"searchaddress",R,"locationname",J),(0,l.jsxs)(l.Fragment,{children:[!1===es?t.back({pathname:"/login"}):(0,l.jsxs)("div",{children:[(0,l.jsx)(a.Ix,{position:"top-right"}),$&&(0,l.jsx)(v.Z,{msg:Y,close:ec}),Q&&(0,l.jsx)(b.Z,{msg:Y,close:ec}),et&&et.flag&&(0,l.jsx)(k,{delete:t=>{console.log("id",t),void 0!==e&&r.Z.deleteaddress(t).then(e=>{console.log("response",e),(0,a.Am)("Item deleted successfully"),em()}).catch(e=>{console.log("error:::",e)})},Fetchlist:em}),(0,l.jsx)(c.Z,{}),(0,l.jsx)(x.Z,{myAccount:"My Account",activepage:"Billing & Delivery Address"})]}),(0,l.jsx)("div",{className:"my-account-wrapper pb-20",children:(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,l.jsx)("main",{id:"primary",className:"site-main",children:(0,l.jsx)("div",{className:"user-dashboard",children:(0,l.jsx)("div",{className:"main-dashboard",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)(u.Z,{}),(0,l.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-10",children:(0,l.jsxs)("div",{className:"tab-content dashboard-content","data-addressgroup":"shipping",id:"profile",children:[(0,l.jsx)("h3",{children:"Billing & Delivery Address"}),(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("div",{id:"address_list",className:"row address-view",children:[(N||[]).map(e=>(0,l.jsxs)("div",{className:"col-lg-4 all-address-div pnlAddress",style:{paddingLeft:"5px"},children:[(0,l.jsxs)("div",{className:"product-item product-item-active ",children:[(0,l.jsx)("div",{className:"product-thumb",style:{zIndex:"1"},children:!1===e.isPrimary?(0,l.jsx)("button",{type:"button","data-address":"2873","data-delete":"true",className:"checkout_btn btn btn-default ",onClick:()=>eu(e.CustomerAddressId),style:{borderRadius:"10px"},children:(0,l.jsx)("i",{className:"lnr lnr-cross-circle"})}):null}),(0,l.jsx)("div",{className:"product-caption",children:(0,l.jsxs)("div",{className:"product-name",children:[(0,l.jsxs)("div",{className:"defaul_add",children:[(0,l.jsxs)("h4",{children:[" ",(0,l.jsx)("strong",{children:e.AddressTypeName})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[e.FirstName," ",e.LastName]})}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{children:["  ",e.Address1,", ",e.Address2,","]}),(0,l.jsxs)("span",{children:[" ",e.City,","]}),(0,l.jsxs)("span",{children:[" ",e.DeliveryLocalityState,","]}),(0,l.jsxs)("span",{children:[" ",e.Country,",\xa0"]}),(0,l.jsx)("span",{children:e.ZipCode}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[" Mobile: ",e.Mobile]})})]}),(0,l.jsxs)("div",{className:"address-buttons-wrap",children:[e.isPrimary?(0,l.jsxs)("button",{type:"button",className:"default-billing-address btn btn-secondary set-shipping-address billing-address ba btn-fix",disabled:e.isPrimary,onClick:()=>{var t;return t=e.CustomerAddressId,void(e.ZipCode!==A.r.pincode||eo((0,h.X$)(t)),er())},children:[" ",(0,l.jsx)("i",{className:"fa fa-check-square-o"})," Primary"]}):null,"\xa0",(0,l.jsx)("button",{className:"default-billing-address btn btn-secondary set-shipping-address billing-address ba btn-fix",onClick:()=>ed(e,e.CustomerAddressId),type:"button",children:"Edit"})]})]})})]}),(0,l.jsx)("br",{})]})),!en&&(0,l.jsx)("div",{className:"col-lg-12 add-new-address",style:{marginBottom:"20px"},children:(0,l.jsx)("div",{className:"defaul_add",children:(0,l.jsx)("button",{className:"btn-cart btn-secondary button-font",onClick:()=>{ea(!1),j(!0)},href:!0,type:"button",id:"showAddress",style:{width:"18%"},children:" + Add New Address"})})}),s?(0,l.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 addr_form",style:{display:"block"},children:[V&&(0,l.jsx)("span",{style:{color:"red"},children:"Sorry! Geo Location is not supported on your current browser! Please check your browser settings."}),(0,l.jsxs)("div",{className:"row delivery-area-box-container",children:[(0,l.jsx)("div",{className:"pl-3 pr-3",children:(0,l.jsx)("b",{children:"Delivery area"})}),T?(0,l.jsxs)("div",{id:"divSearchDeliveryLocalityForCheckout",className:"input-group",style:{display:"table"},children:[(0,l.jsxs)("div",{className:"localityCheckout",children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",id:"txtDeliveryLocalityForCheckout",className:"form-control",placeholder:"Search Delivery Locality",onChange:e=>eh(e),value:!0===T?null:J})}),(0,l.jsx)("div",{children:(0,l.jsxs)("button",{type:"button",id:"btnUseMyLocationForCheckout",className:"btn btn-secondary",onClick:()=>ep(),children:[(0,l.jsx)("i",{className:"fa fa-map-marker"})," Detect My Location ",(0,l.jsx)("i",{})]})})]}),G?(0,l.jsx)("div",{id:"divDeliveryLocalitySuggestionsForCheckout",style:{position:"absolute",zIndex:"999",width:"280px"},children:(0,l.jsx)("ul",{className:"list-group",id:"Suggestionlist",children:(z||[]).map(e=>(0,l.jsxs)("li",{className:"list-group-item checkout-delivery-autocomplete-div",onClick:()=>(function(e,t,s){console.log("description",e),ee(!1),F(e);let l=localStorage.getItem("generatedtoken");return fetch("".concat(g.ZP.urls.baseUrl).concat(g.ZP.endPoints.placedetails,"key=").concat(f.GooglePlacesApiKey,"&placeId=").concat(s),{method:"POST",headers:{accept:"application/json",Authorization:"Bearer ".concat(l)}}).then(e=>e.text()).then(e=>{let t=JSON.parse(e);return console.log("nvnujss",JSON.parse(e)),fetch("".concat(g.ZP.endPoints.geocode,"key=").concat(f.GooglePlacesApiKey,"&latlng=").concat(t.result.geometry.location.lat,",").concat(t.result.geometry.location.lng,"&sensor=",!0),{method:"GET",headers:{accept:"text/plain"}}).then(e=>e.text()).then(e=>{let s=JSON.parse(e),n=s.results,a="";for(let e=0;e<n.length;e+=1){let t=n[e].formatted_address;if(/(\d{6})/.test(t)){a=n[e];break}}let o=a.address_components.filter(e=>"sublocality"===e.types[1]),c=a.address_components.filter(e=>"postal_code"===e.types[0]),r=a.address_components.filter(e=>"locality"===e.types[0]);r&&"Pune"!==r&&(r=a.address_components.filter(e=>"administrative_area_level_3"===e.types[0]));let i=a.address_components.filter(e=>"administrative_area_level_1"===e.types[0]),d=a.address_components.filter(e=>"sublocality"===e.types[1]);return(o.length>0&&c.length>0&&d.length>0&&i.length>0?eo((0,p.ym)(o[0].long_name,c[0].long_name,!0)):(console.log("you are here"),H(!0),q("Address not found! Please search again"),setTimeout(()=>{F("")},500)),r[0]&&r[0].long_name&&""!==r[0].long_name&&"Pune"===r[0].long_name)?fetch("".concat(g.ZP.endPoints.checkserviceavailability,"setsession=true&address=").concat(o[0].long_name,"&area=").concat(d[0].long_name,"&city=").concat(r[0].long_name,"&lat=").concat(t.result.geometry.location.lat,"&lng=").concat(t.result.geometry.location.lng,"&pincode=").concat(c[0].long_name,"&placeid=").concat(JSON.parse(e).results[0].place_id,"&state=").concat(i[0].long_name),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(l)}}).then(e=>e.json()).then(e=>{console.log("JJJJ",e,"Available"===e),"Available"===e?(ea(!1),localStorage.setItem("sublocalityvalue",r[0].long_name),localStorage.setItem("pincodevalue",c[0].long_name),P.Z.set("sublocalityvalue",r[0].long_name,{expires:15}),P.Z.set("pincodevalue",c[0].long_name,{expires:15}),M(c),o&&o.length>0&&o[0]&&o[0].long_name&&W(o[0].long_name),X(!0),q("Delivery location is updated "),setTimeout(()=>{X(!1)},500),eo((0,p.ym)(o[0].long_name,c[0].long_name,!0))):(H(!0),q("We are currently operational in Pune (selected locations). We're working on it and hang tight, we will serve you very soon!"),setTimeout(()=>{F(""),H(!1)},500))}):(H(!0),q("We are currently operational in Pune (selected locations). We're working on it and hang tight, we will serve you very soon!"),setTimeout(()=>{F(""),H(!1)},500),null)})})})(e.description,0,e.place_id),"data-placeid":"ChIJYxUdQVlO4DsRQrA4CSlYRf4",children:[" ",e.description]}))})}):null]}):(0,l.jsxs)("div",{className:"col-sm-6",children:[(0,l.jsxs)("label",{id:"lblDeliveryLocalityForCheckout",children:[en?null==Z?void 0:Z.City:localStorage.getItem("sublocalityvalue")&&""!==localStorage.getItem("sublocalityvalue")?localStorage.getItem("sublocalityvalue"):f.DefaultDeliveryLocality_Area," ",en?null==Z?void 0:Z.ZipCode:localStorage.getItem("pincodevalue")&&""!==localStorage.getItem("pincodevalue")?localStorage.getItem("pincodevalue"):f.DefaultDeliveryLocality_Pincode]}),(0,l.jsx)("div",{id:"divDeliveryLocalitySuggestionsForCheckout",style:{position:"absolute",zIndex:999,width:"280px"},children:(0,l.jsx)("ul",{className:"list-group",id:"Suggestionlist"})})]}),T?(0,l.jsx)("span",{className:"deliveraddresscross",children:(0,l.jsx)("a",{id:"btnEditDeliveryLocalityForCheckout",href:!0,onClick:()=>ey(),children:(0,l.jsx)("i",{className:"fa fa-window-close",style:{cursor:"pointer",fontSize:"16px"}})})}):(0,l.jsx)("div",{className:"col-sm-3",children:(0,l.jsx)("a",{href:!0,onClick:()=>{L(!0),ea(!0),W(J),console.log("SDFSD$$$",J)},id:"btnEditDeliveryLocalityForCheckout",children:(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",style:{cursor:"pointer",fontSize:"16px"},children:"Edit"})})})]}),(0,l.jsx)(d.k,{editdata1:Z,cancelform:()=>{j(!1),O(!1),ea(!1)},atosuggestdadta:f,userdetail:C,fetchaddress:er,edit:E,isEdit:en,Pin:K,editdata:C,Address:J||R,AddressTypeName:N,fetchAddressOfIndexPage:er})]}):null]})})]})})]})})})})})})})}),(0,l.jsx)(m.Z,{})]})}var I=C},82729:function(e,t,s){"use strict";function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}s.d(t,{_:function(){return l}})}},function(e){e.O(0,[8523,1664,112,5675,9819,1790,1235,7700,472,191,266,7467,8055,6852,3403,9793,6122,2293,8350,7596,7586,8117,5085,9774,2888,179],function(){return e(e.s=99065)}),_N_E=e.O()}]);