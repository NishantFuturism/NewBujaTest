(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459,1765],{36429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(80048)}])},95738:function(e,t,n){"use strict";var i=n(82729),s=n(80191);function r(){let e=(0,i._)(["\n  // outline: none;\n  // border: none;\n  // border-bottom: 1px dotted #999;\n  // background-color: transparent;\n"]);return r=function(){return e},e}let l=s.ZP.input.withConfig({componentId:"sc-c87f1da-0"})(r());t.Z=l},46064:function(e,t,n){"use strict";n.d(t,{AY:function(){return m},JC:function(){return s},Kw:function(){return g},Pk:function(){return c},QI:function(){return l},RE:function(){return a},VH:function(){return u},_o:function(){return d},j9:function(){return o},tH:function(){return r}});var i=n(46739);function s(e){return{type:i.OY,username:e}}function r(e,t){return{type:i._O,uname:e,OTP:t}}function l(e,t){return{type:i.TB,uname:e,password:t}}function o(){return{type:i.SJ,customerlogindata:""}}function a(e){return{type:i.VF,msg:e}}function d(){return{type:i.jp}}function c(e){return{type:i.xx,data:e}}function u(e){return console.log("sendOtppswd",e),{type:i.OZ,id:e}}function m(e){return{type:i.CK,userDetails:e}}function g(e,t,n){return console.log("Register original action",e,t,n),{type:i.js,clientid:e,emailId:t,customerType:n}}},80048:function(e,t,n){"use strict";n.r(t),n.d(t,{Login:function(){return C}});var i=n(85893),s=n(67294),r=n(86426),l=n(14416),o=n(11163),a=n(31955),d=n(41664),c=n.n(d),u=n(22920),m=n(4605),g=n(42657),p=n(96245);n(58788),n(24087),n(20879),n(31684),n(55783);var x=n(62944),h=n(99093),f=n(11560),b=n(95738),v=n(46064),y=n(75408),j=n(91164);n(78088);var I=n(88807),N=n(523),S=n(32314);function C(){(0,m.v)({key:"login",reducer:y.Z}),(0,g.h)({key:"login",saga:j.Z});let[e,t]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),C=(0,o.useRouter)(),[w,E]=(0,s.useState)(0),[U,T]=(0,s.useState)(!1),[R,P]=(0,s.useState)(!1),[L,O]=(0,s.useState)(),[G,k]=(0,s.useState)(!0),[_,B]=(0,s.useState)(60),[D,F]=(0,s.useState)(!1),[Z,V]=(0,s.useState)(!1),[M,A]=(0,s.useState)(!1),[K,q]=(0,s.useState)(!1),[J,W]=(0,s.useState)(!1),[z,Y]=(0,s.useState)(""),[$,H]=(0,s.useState)(""),[Q,X]=(0,s.useState)(""),[ee,et]=(0,s.useState)(0),[en,ei]=(0,s.useState)(""),[es,er]=(0,s.useState)(!1),[el,eo]=(0,s.useState)(""),[ea,ed]=(0,s.useState)(!1),[ec,eu]=(0,s.useState)("Adibuja"),[em,eg]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{let e=await (0,I.Z)(),t=f.r.defaultSellerID;e&&(null==e?void 0:e.AdminMemberId)&&(t=e.AdminMemberId,eu(e.CompanyName)),(null==e?void 0:e.LogoURL)?eo(e.LogoURL):eo(""),ed(!0),localStorage.setItem("sellerID",t)})()},[]);let ep=(0,l.v9)(e=>e.login),ex=(0,l.v9)(e=>e.login),eh=(0,l.v9)(e=>e.login);(0,s.useEffect)(()=>{h.Z.getCartCommon().then(e=>{ei(e)}).catch(e=>{}),E(w+1),P(!1),t(""),d("")},[]),(0,s.useEffect)(()=>{window.localStorage&&localStorage.getItem("UserMobileEmailFromRegister")&&"/register"===localStorage.getItem("rediractFromRegister")&&(t(localStorage.getItem("UserMobileEmailFromRegister")),localStorage.setItem("UserMobileEmailFromRegister",""))},[]),(0,s.useEffect)(()=>{window.localStorage&&""!==e&&"/register"===localStorage.getItem("rediractFromRegister")&&(setTimeout(()=>{A(!0),document.getElementById("sendloginUserWithOTP").click()},1e3),localStorage.setItem("rediractFromRegister",""))},[e]),(0,s.useEffect)(()=>{w>0&&0===_&&(P(!0),W(!1)),w>0&&!0===J&&_>0&&setTimeout(()=>{let e=_-1;B(e)},1e3)},[_]);let ef=t=>{V(!0);let n=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),i=new RegExp(/^\d{10}$/);w>0&&(n.test(e)||i.test(e)?e?(P(!1),A(!0),F(!0),ev((0,v.JC)(e)),document.getElementById("txtLoginOTP").focus(),k(!1),W(!0),B(59),clearTimeout()):(P(!1),W(!1),k(!0),T(!0),clearTimeout(),ev((0,v.RE)("User Name can not be empty"))):(P(!1),T(!0),k(!0),ev((0,v.RE)("Please enter valid mobile number (10 digit) or email")),V(!1),F(!1),A(!1),W(!1)))};(0,s.useEffect)(()=>{w>0&&ep&&ep.sendOtpResponse&&ep.sendOtpResponse&&O(ep.sendOtpResponse.IsCustomerExist)},[ep]),(0,s.useEffect)(()=>{if(w>0&&e&&ep&&void 0!==ep.customerlogindata&&"00000000-0000-0000-0000-000000000000"===ep.customerlogindata.GUID&&!1===K&&(T(!0),ev((0,v.RE)("redirecting to registration page...")),setTimeout(()=>{C.push({pathname:"/register",query:{data:e}})},1e3)),w>0&&ep&&void 0!==ep.customerlogindata&&"00000000-0000-0000-0000-000000000000"!==ep.customerlogindata.GUID&&""!==ep.customerlogindata){ev((0,v.Pk)(ep.customerlogindata));let e=localStorage.getItem("lastVisitedUrl");e&&""!==e?C.push(e):C.push("/"),a.Z.set("CustGUID",ep.customerlogindata.GUID,{expires:15}),localStorage.setItem("CustGUID",window.btoa(ep.customerlogindata.GUID)),localStorage.setItem("ClientId",window.btoa(ep.customerlogindata.ClientId)),localStorage.setItem("UserFirstName",ep.customerlogindata.FirstName),localStorage.setItem("User",JSON.stringify(ep.customerlogindata)),localStorage.setItem("UserLastName",ep.customerlogindata.LastName),localStorage.setItem("UserLastPhone",ep.customerlogindata.Phone),localStorage.setItem("Email",ep.customerlogindata.Email),localStorage.setItem("CustomerId",window.btoa(ep.customerlogindata.CustomerId)),en&&en.cart&&en.cart[0]&&h.Z.updatecart(null,en.cart[0].cart[0].Quantity,en.cart[0].cart[0].SkuId,en.cart[0].cart[0].SKUFilterPriceId,null==en?void 0:en.couponcode)}w>0&&!es&&""!==document.getElementById("txtLoginOTP").value&&""!==ep.customerlogindata&&"00000000-0000-0000-0000-000000000000"===ep.customerlogindata.GUID&&(T(!0),ev((0,v.RE)("Please enter valid OTP")),er(!0))},[ep]),(0,s.useEffect)(()=>{w>0&&e&&void 0!==L&&!L&&(T(!0),ev((0,v.RE)("This phone number does not exist, redirecting to registration page...")),setTimeout(()=>{T(!0),localStorage.setItem("UserMobileEmailFromLogin",e),localStorage.setItem("rediractFromLogin","/login"),C.push({pathname:"/register"})},2e3)),w>0&&L&&W(!0)},[L]);let eb=(0,l.v9)(e=>e.login);(0,s.useEffect)(()=>{var e;(null==eb?void 0:null===(e=eb.addToCartMsg)||void 0===e?void 0:e.includes("inactive"))?eg(!0):eg(!1),setTimeout(()=>{ev((0,v._o)()),T(!1)},5e3)},[eb]),(0,s.useEffect)(()=>{ex&&"undefined"!==ex.userRegistrationUsingGmailLoginResponse&&void 0!==ex.userRegistrationUsingGmailLoginResponse&&(ee<1&&""!==ex.userRegistrationUsingGmailLoginResponse&&"Email Already Exist"===ex.userRegistrationUsingGmailLoginResponse&&(ev((0,v.Kw)(1,z,1)),et(1)),ee<1&&""!==ex.userRegistrationUsingGmailLoginResponse&&"Phone number Already Exist"===ex.userRegistrationUsingGmailLoginResponse&&(ev((0,v.Kw)(1,z,1)),et(1)),ee<1&&""!==ex.userRegistrationUsingGmailLoginResponse&&void 0!==ex.userRegistrationUsingGmailLoginResponse&&"Email Already Exist"!==ex.userRegistrationUsingGmailLoginResponse&&(ev((0,v.Kw)(1,z,1)),et(1)))},[ex]),(0,s.useEffect)(()=>{if(eh&&"undefined"!==eh.getCustIdByGmailLogin&&void 0!==eh.getCustIdByGmailLogin&&eh.getCustIdByGmailLogin.length>0){a.Z.set("CustGUID",eh.getCustIdByGmailLogin[0].GUID,{expires:15}),localStorage.setItem("CustGUID",window.btoa(eh.getCustIdByGmailLogin[0].GUID)),localStorage.setItem("UserFirstName",$),localStorage.setItem("User",JSON.stringify(eh.getCustIdByGmailLogin)),localStorage.setItem("UserLastName",Q),localStorage.setItem("UserLastPhone",null),localStorage.setItem("Email",eh.getCustIdByGmailLogin[0].Email),en&&en.cart&&en.cart[0]&&h.Z.updatecart(null,en.cart[0].cart[0].Quantity,en.cart[0].cart[0].SkuId,en.cart[0].cart[0].SKUFilterPriceId,null==en?void 0:en.couponcode);let e=localStorage.getItem("lastVisitedUrl");e&&""!==e?setTimeout(()=>{C.push(e)},100):setTimeout(()=>{C.push("/")},100)}},[eh]);let ev=(0,l.I0)();function ey(e){if(!0===/\s/g.test(e.target.value)){let n=e.target.value.replace(/\s/g,"");t(n)}else t(e.target.value)}let ej=e=>{e.preventDefault(),C.push({pathname:"/register",state:{Uname:null},rediractFrom:"/login"})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.Z,{}),(0,i.jsx)(u.Ix,{position:"top-right"}),void 0!==eb&&eb.IsMsgBar&&(0,i.jsx)(x.Z,{isError:U||em,msg:eb.addToCartMsg}),(0,i.jsx)("div",{className:"login-wrapper pb-35",children:(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:[(0,i.jsx)("div",{className:"section-title text-center",children:(0,i.jsx)("p",{align:"center",style:{padding:"10px,0px"},children:(0,i.jsx)(c(),{href:"/",children:ea?(0,i.jsx)("img",{referrerPolicy:"no-referrer",alt:"brand-logo",src:"".concat(el||"/assets1/img/icon/adibuja-logo.svg"),style:{paddingLeft:"23px"},width:"198px",height:"42px"}):""})})}),(0,i.jsx)("main",{id:"primary",className:"site-main",children:(0,i.jsx)("div",{className:"user-login",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-8 offset-xl-2",children:(0,i.jsx)("div",{className:"login-form",children:(0,i.jsxs)("div",{id:"divloginwithotp",children:[(0,i.jsx)("h3",{align:"center",children:"Login Using OTP"}),(0,i.jsx)("br",{}),!1===Z?(0,i.jsx)("div",{className:"form-group row align-items-center",children:(0,i.jsxs)("div",{className:"loginText",style:{width:"80%",display:"block",position:"relative",alignSelf:"center",margin:"0 auto"},children:[(0,i.jsx)("div",{className:"input-group",style:{alignSelf:"center "},children:(0,i.jsx)(b.Z,{name:"UserName",id:"txtUserNameForOTP",value:e,disabled:D,className:"form-control",onChange:e=>ey(e),placeholder:"Mobile No. / Email"})}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:!0,id:"sendloginUserWithOTP",type:"button",onClick:ef,style:{display:G?"inline-block":"none"},children:"Send OTP"})})]})}):(0,i.jsxs)("div",{className:"form-group row align-items-center mb-4 reg_Otp_rw",children:[(0,i.jsx)("label",{htmlFor:"email",className:"col-sm-3"}),(0,i.jsxs)("div",{className:"rgt_ipt_box",children:[(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("div",{className:"input-group-prepend",children:(0,i.jsx)("div",{className:"input-group-text",id:"registerBackIcon",style:{cursor:"pointer",display:"none"},onClick:function(){V(!1),k(!0)}})}),(0,i.jsx)("input",{defaultValue:e,className:"form-control",name:"UserName",id:"txtUserNameForOTP",placeholder:"Mobile No. / Email",type:"text",disabled:D,autoComplete:"off",required:"",onChange:e=>ey(e)}),(0,i.jsxs)("div",{className:"input-group-append",children:[M?(0,i.jsx)("div",{className:"btn-group",children:(0,i.jsx)("button",{type:"button",id:"btnRegisterChangeUserName",className:"btn btn-default  input-group-btn",onClick:function(){F(!1),A(!1),W(!1),B(60),console.log("chkeResendShow",R),!0===R&&P(!1)},style:{backgroundColor:"rgb(233, 236, 239)",border:"1px solid rgb(206, 212, 218) !important"},children:"Change"})}):null,!1===M?(0,i.jsx)("div",{className:"btn-group",children:(0,i.jsx)("button",{type:"button",id:"btnRegisterChangeUserNameDone",className:"btn btn-default input-group-btn",onClick:ef,style:{backgroundColor:"#e9ecef",border:"1px solid #ced4da !important"},children:"Done"})}):null]})]}),(0,i.jsx)("span",{className:"text text-danger validation-error field-validation-valid","data-valmsg-for":"UserName","data-valmsg-replace":"true"}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:!0,id:"registerUserWithOTP",style:{color:"gray",position:"absolute",top:"7px",right:"26px",zIndex:10,display:"none"},children:"Send OTP"})})]})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"login-box text-center",children:[(0,i.jsx)("input",{defaultValue:"",type:"hidden",id:"returnurl",name:"returnurl"}),(0,i.jsx)("h3",{style:{color:"#888888"},children:"Enter OTP"}),(0,i.jsx)("br",{})]}),(0,i.jsx)("div",{id:"divOuter",children:(0,i.jsx)("div",{id:"divInner",children:(0,i.jsx)(b.Z,{disabled:em,defaultValue:n,type:"password",maxLength:4,id:"txtLoginOTP",required:"",autoComplete:"new-password",className:em?"inputDisabled":""})})}),(0,i.jsx)("br",{}),J&&!em?(0,i.jsx)(()=>(0,i.jsx)("div",{id:"resendOtpTimerNewdiv",children:(0,i.jsxs)("p",{id:"resendOtpTimerNew",className:"text-center",children:["00:",_<10?0:"",_]})}),{}):null,R&&!em&&(0,i.jsx)(()=>(0,i.jsx)("div",{id:"NotYetReceived",children:(0,i.jsxs)("p",{align:"center",children:["Not received / expired your OTP? \xa0",(0,i.jsxs)("a",{href:"#",style:{color:"dodgerblue",display:"block",textAlign:"center"},children:[(0,i.jsx)("i",{className:"fa fa-refresh"}),(0,i.jsx)("span",{onClick:ef,id:"btnResendOTPNew",children:"\xa0Resend OTP"})]})]})}),{}),(0,i.jsx)("div",{id:"resendOtpTimerNewdiv",children:(0,i.jsx)("p",{id:"resendOtpTimerNew",className:"text-center"})}),(0,i.jsx)("div",{className:"login-box text-center",children:(0,i.jsx)("button",{disabled:em,type:"button",id:"btnLoginWithOTP",className:"btn btn-secondary mb-4 mt-4 ",onClick:()=>{er(!1);let t=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),n=new RegExp(/^\d{10}$/);""===e?(T(!0),ev((0,v.RE)("Please enter valid mobile number (10 digit) or email"))):t.test(e)||n.test(e)?""===document.getElementById("txtLoginOTP").value?(T(!0),ev((0,v.RE)("Please enter OTP"))):""===document.getElementById("txtLoginOTP").value&&""===ep.customerlogindata&&(T(!0),ev((0,v.RE)("Please enter OTP"))):(T(!0),ev((0,v.RE)("Please enter valid mobile number (10 digit) or email"))),q(!0),ev((0,v.tH)(document.getElementById("txtUserNameForOTP").value,document.getElementById("txtLoginOTP").value)),h.Z.getCartCommon().then(e=>{void 0!==e.CartGuid&&null!==e.CartGuid?localStorage.setItem("CartGUID",window.btoa(e.CartGuid)):localStorage.setItem("CartGUID",window.btoa(f.r.defaultCartGUID))})},children:"Login Now"})}),(0,i.jsxs)("div",{className:"login-box text-center",children:["- ",(0,i.jsx)("strong",{children:"OR"})," -",(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"button",id:"btnLoginWithPassword",className:"btn btn-secondary mb-4 mt-4 ",onClick:()=>{C.push({pathname:"/login/form",state:{Uname:e}})},children:"Login with Password"})]}),(0,i.jsxs)("p",{align:"center",children:["By continuing, you agree to our ",(0,i.jsx)("a",{onClick:()=>{localStorage.setItem("pagefootert","terms-and-conditions-react")},href:"/terms-and-conditions",style:{color:"dodgerblue",cursor:"pointer",target:"_blank",rel:"noopener noreferrer"},children:"Terms & Conditions"})," and ",(0,i.jsx)("a",{href:"/privacy-policy",onClick:()=>{localStorage.setItem("pagefootert","privacy-policy-react")},style:{color:"dodgerblue",cursor:"pointer",target:"_blank"},children:"Privacy Policy"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"text-center pt-20 pb-20 top-bordered",style:{borderTop:"none"},children:(0,i.jsx)("p",{children:(0,i.jsxs)("b",{children:["New To ",ec,"?\xa0",(0,i.jsx)(c(),{href:"",onClick:e=>ej(e),className:"create-acnt",children:(0,i.jsx)("u",{children:"Create an account"})})]})})}),(0,i.jsx)("div",{className:"text-center pt-20 top-bordered",style:{borderTop:"none"},children:(0,i.jsxs)("section",{children:[(0,i.jsx)("h4",{style:{paddingBottom:"8px"},children:"Use another service to log in."}),(0,i.jsxs)("form",{method:"post",className:"form-horizontal",action:"/Account/ExternalLogin",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"google-login-div",children:(0,i.jsx)(r.kZ,{style:{width:"25% !important",margin:"auto !important"},onSuccess:e=>{let t=(0,p.Z)(e.credential);if(Y(t.email),H(t.given_name),X(t.family_name),""!==t.email){let e={ClientId:1,Title:null,CustGuid:null,Name:t.given_name,LastName:t.family_name,Email:t.email,Company:null,Mobile:null,Phone:null,Fax:null,Password:null,ConfirmPassword:null,Comments:null,TaxId:null,Type:null,PreferredLanguageId:0,designation:null,companyType:null,country:null,state:null,address1:null,address2:null,city:null,statecode:null,selectedCountry:null,selectedState:null,countryCode:null,ZipCode:null,NewsLetterSubscribed:!1,Consignee:null,Telephone:null,isPrimary:!1,isGuest:!1,ReceiveOffers:!1,IsEmailVerified:t.email_verified,IsPhoneVerified:!1,BirthDate:null,CustomerType:1,Extra1:null,SellerId:localStorage.getItem("sellerID")||f.r.defaultSellerID,businessCustomerDetail:{BusinessCustomerDetailsId:0,CustomerId:0,GUID:null,CompanyName:null,GSTNumber:null,BusinessName:null,BusinessAddress:null,BusinessPinCode:null,BusinessCity:null,BusinessState:null,Extra1:null,Extra2:null}};ev((0,v.AY)(e))}},onError:e=>{T(!0)}})})}),(0,i.jsx)("input",{name:"__RequestVerificationToken",type:"hidden",defaultValue:""}),(0,i.jsx)("input",{name:"__RequestVerificationToken",type:"hidden",defaultValue:""})]})]})})]})})})})})})]})})})}),(0,i.jsxs)("div",{className:"scroll-top not-visible",children:[" ",(0,i.jsx)("i",{className:"fa fa-angle-up"})," "]}),(0,i.jsx)(S.Z,{})]})}t.default=C},82729:function(e,t,n){"use strict";function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return i}})}},function(e){e.O(0,[1664,112,191,7467,8055,6852,517,3557,9774,2888,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);