(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693,1765],{73777:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/form",function(){return s(72153)}])},46064:function(e,t,s){"use strict";s.d(t,{AY:function(){return m},JC:function(){return n},Kw:function(){return g},Pk:function(){return d},QI:function(){return a},RE:function(){return r},VH:function(){return u},_o:function(){return c},j9:function(){return i},tH:function(){return l}});var o=s(46739);function n(e){return{type:o.OY,username:e}}function l(e,t){return{type:o._O,uname:e,OTP:t}}function a(e,t){return{type:o.TB,uname:e,password:t}}function i(){return{type:o.SJ,customerlogindata:""}}function r(e){return{type:o.VF,msg:e}}function c(){return{type:o.jp}}function d(e){return{type:o.xx,data:e}}function u(e){return console.log("sendOtppswd",e),{type:o.OZ,id:e}}function m(e){return{type:o.CK,userDetails:e}}function g(e,t,s){return console.log("Register original action",e,t,s),{type:o.js,clientid:e,emailId:t,customerType:s}}},72153:function(e,t,s){"use strict";s.r(t),s.d(t,{LoginwithPassword:function(){return b}});var o=s(85893),n=s(67294),l=s(86426),a=s(14416),i=s(41664),r=s.n(i),c=s(4605),d=s(42657);s(58788),s(20879),s(63959),s(24087);var u=s(22920),m=s(96245);s(55783);var g=s(62944),p=s(11163),x=s(99093),h=s(46064),f=s(75408),y=s(91164),v=s(91755);s(78088),s(25675);var j=s(88807),w=s(11560),I=s(32314),N=s(523);function b(){(0,c.v)({key:"login",reducer:f.Z}),(0,d.h)({key:"login",saga:y.Z});let e=(0,a.I0)(),[t,s]=(0,n.useState)(0),[i,b]=(0,n.useState)(!1),[C]=(0,n.useState)(!1),[E,S]=(0,n.useState)(""),[P,L]=(0,n.useState)(!1),[U,T]=(0,n.useState)(""),R=(0,a.v9)(e=>e.login),G=(0,a.v9)(e=>e.home),[_,D]=(0,n.useState)(R),[k]=(0,n.useState)(""),[B,A]=(0,n.useState)(!1),[O,F]=(0,n.useState)(""),[Z,V]=(0,n.useState)(""),[K,H]=(0,n.useState)(""),J=(0,a.v9)(e=>e.login),M=(0,a.v9)(e=>e.login),[Y,q]=(0,n.useState)(0),[Q,z]=(0,n.useState)(""),[W,X]=(0,n.useState)(!1),$=(0,p.useRouter)();(0,n.useEffect)(()=>{(async()=>{let e=await (0,j.Z)();console.log("sellerDetailsFromDomain==",e);let t=w.r.defaultSellerID;e&&(null==e?void 0:e.AdminMemberId)&&(t=e.AdminMemberId),(null==e?void 0:e.LogoURL)?z(e.LogoURL):z(""),X(!0),localStorage.setItem("sellerID",t)})()},[]);let ee=()=>{A(!1)};return(0,n.useEffect)(()=>{s(t+1)},[]),(0,n.useEffect)(()=>{void 0!==C&&!0===C&&0!==k&&void 0!==k&&S("Redirect to Login Page.."),C&&""===k&&void 0!==k&&0===k&&(S("Please Enter Correct Paswword"),setTimeout(()=>{A(!1)},3e3))},[C]),(0,n.useEffect)(()=>{D(R)},[R]),(0,n.useEffect)(()=>{if(window.localStorage&&(console.log("sendOtpApiResponseData---".concat(JSON.stringify(_))),t>0&&_&&void 0!==_.sendOTPDataPswd)){if(t>0&&_.sendOTPDataPswd.IsCustomerExist&&void 0!==_.customerlogindata&&0===_.customerlogindata.CustomerId&&"00000000-0000-0000-0000-000000000000"===_.customerlogindata.GUID&&(A(!0),b(!0),S("Incorrect username or password"),setTimeout(()=>{A(!1)},5e3),e((0,h.j9)())),t>0&&_.sendOTPDataPswd.IsCustomerExist&&void 0!==_.customerlogindata&&_.customerlogindata.CustomerId>0){A(!1),b(!1);let e=localStorage.getItem("lastVisitedUrl");e&&""!==e?setTimeout(()=>{$.push(e)},3e3):setTimeout(()=>{$.push("/")},3e3),localStorage.setItem("CustGUID",window.btoa(_.customerlogindata.GUID)),localStorage.setItem("ClientId",window.btoa(_.customerlogindata.ClientId)),localStorage.setItem("UserFirstName",_.customerlogindata.FirstName),localStorage.setItem("User",JSON.stringify(_.customerlogindata)),localStorage.setItem("UserLastName",_.customerlogindata.LastName),localStorage.setItem("UserLastPhone",_.customerlogindata.Phone),localStorage.setItem("Email",_.customerlogindata.Email),G&&G.allCartData.cart&&x.Z.updatecart(null,G.allCartData.cart[0].cart[0].Quantity,G.allCartData.cart[0].cart[0].SkuId,G.allCartData.cart[0].cart[0].SKUFilterPriceId,null==G?void 0:G.couponcode)}t>0&&!1===_.sendOTPDataPswd.IsCustomerExist&&void 0!==_.customerlogindata&&0===_.customerlogindata.CustomerId&&(A(!0),b(!0),S("Please enter correct mobile number (10 digit) or Email Id"),setTimeout(()=>{A(!1)},3e3))}},[_]),(0,n.useEffect)(()=>{},[_]),(0,n.useEffect)(()=>{setTimeout(()=>{A(!1)},3e3)},[ee]),(0,n.useEffect)(()=>{M&&"undefined"!==M.getCustIdByGmailLogin&&void 0!==M.getCustIdByGmailLogin&&M.getCustIdByGmailLogin.length>0&&(console.log("hii",M.getCustIdByGmailLogin[0].GUID),localStorage.setItem("CustGUID",window.btoa(M.getCustIdByGmailLogin[0].GUID)),localStorage.setItem("UserFirstName",Z),localStorage.setItem("UserLastName",K),localStorage.setItem("Email",M.getCustIdByGmailLogin[0].Email),setTimeout(()=>{$.push("/")},100))},[M]),(0,n.useEffect)(()=>{console.log("gmailLoginResponse--",J),J&&"undefined"!==J.userRegistrationUsingGmailLoginResponse&&void 0!==J.userRegistrationUsingGmailLoginResponse&&(Y<1&&""!==J.userRegistrationUsingGmailLoginResponse&&"Email Already Exist"===J.userRegistrationUsingGmailLoginResponse&&(console.log("Email Already Exist"),e((0,h.Kw)(1,O,1)),q(1)),Y<1&&""!==J.userRegistrationUsingGmailLoginResponse&&"Phone number Already Exist"===J.userRegistrationUsingGmailLoginResponse&&(console.log("Phone number Already Exist"),e((0,h.Kw)(1,O,1)),q(1)),Y<1&&""!==J.userRegistrationUsingGmailLoginResponse&&void 0!==J.userRegistrationUsingGmailLoginResponse&&"Email Already Exist"!==J.userRegistrationUsingGmailLoginResponse&&(console.log("Email is not Already Exist"),e((0,h.Kw)(1,O,1)),q(1)))},[J]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.Z,{}),(0,o.jsx)(u.Ix,{position:"top-right"}),window.localStorage?B&&(0,o.jsx)(g.Z,{isError:i,msg:E,close:ee}):null,(0,o.jsx)("div",{className:"mainbodycontent",children:(0,o.jsx)("div",{className:"login-wrapper pb-35",children:(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:[(0,o.jsx)("div",{className:"section-title text-center",children:(0,o.jsx)("p",{align:"center",style:{padding:"10px,0px"},children:(0,o.jsx)(r(),{href:"/",children:W?(0,o.jsx)("img",{alt:"brand-logo",src:"".concat(Q||"/assets1/img/icon/adibuja-logo.svg"),width:"198",height:"42",style:{paddingLeft:"23px"}}):""})})}),(0,o.jsx)("main",{id:"primary",className:"site-main",children:(0,o.jsx)("div",{className:"user-login",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-8 offset-xl-2",children:(0,o.jsx)("div",{className:"login-form",children:(0,o.jsxs)("div",{id:"divloginwithusername",children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12 col-sm-12 col-md-12",children:(0,o.jsxs)("div",{className:" text-center",children:[(0,o.jsx)("h3",{children:"\xa0Login To Your Account"}),"\xa0\xa0"]})})}),(0,o.jsxs)("form",{className:"form-horizontal",id:"frmLoginWithPassword",children:[(0,o.jsxs)("div",{className:"form-group row align-items-center mb-4",children:[(0,o.jsx)("label",{htmlFor:"email",className:"col-sm-3"}),(0,o.jsxs)("div",{className:"col-sm-6",children:[(0,o.jsx)("input",{className:"form-control",placeholder:"Mobile No. / Email",required:"",type:"text",id:"UserName",name:"UserName",defaultValue:"",value:U,onChange:e=>(function(e){if(console.log("autovalue",e.target.value),!0===/\s/g.test(e.target.value)){let t=e.target.value.replace(/\s/g,"");T(t)}else T(e.target.value)})(e)}),(0,o.jsx)("span",{className:"text text-danger validation-error field-validation-valid","data-valmsg-for":"UserName","data-valmsg-replace":"true"})]})]}),(0,o.jsxs)("div",{className:"form-group row align-items-center mb-3",children:[(0,o.jsx)("label",{htmlFor:"email",className:"col-sm-3"}),(0,o.jsxs)("div",{className:"col-sm-6",children:[(0,o.jsx)("input",{type:P?"text":"password",placeholder:"Password",className:"form-control",id:"Password",name:"Password",autoComplete:"new-password"}),(0,o.jsx)("span",{className:"text text-danger validation-error field-validation-valid"}),(0,o.jsx)("input",{type:"hidden","data-temp":"",id:"hdnErrorMsg"}),(0,o.jsx)("button",{className:"logwithpass",type:"button",style:{color:"gray",position:"absolute",top:"9px",right:"25px"},children:(0,o.jsx)("i",{id:"pass","aria-hidden":!0,role:"button",onClick:()=>L(!P),onKeyDown:!P,className:"fa ".concat(P?"fa-eye":"fa-eye-slash")})}),(0,o.jsx)("p",{children:(0,o.jsx)(r(),{href:"/forgotpassword",style:{position:"absolute",top:"45px",right:"15px",color:"#CA251A"},children:(0,o.jsx)("u",{children:"Forgot Password?"})})})]})]}),(0,o.jsxs)("div",{className:"login-box text-center",children:[(0,o.jsx)("button",{type:"button",id:"loginuser",onClick:function(){console.log("uname..",document.getElementById("UserName").value);let t=document.getElementById("UserName").value,s=document.getElementById("Password").value;console.log("mobEmailNoInputField---",t),console.log("passwordInputField---",s);let o=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),n=new RegExp(/^\d{10}$/);""===t&&""===s?(A(!0),b(!0),S("Please enter valid mobile no. or email id and password"),setTimeout(()=>{A(!1)},3e3)):""===t&&""!==s?(A(!0),b(!0),S("Please enter valid mobile or email Id"),setTimeout(()=>{A(!1)},3e3)):o.test(t)||n.test(t)?""!==t&&""===s?(A(!0),b(!0),S("Please enter valid password"),setTimeout(()=>{A(!1)},3e3)):(fetch("".concat(v.ZP.urls.baseUrl).concat(v.ZP.endPoints.token),{method:"POST",headers:{accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:"username=FCAPICL0100145&password=JHASGjnknkjhIhAjksnjansasasMKLAHNSJHGASB02012121&grant_type=password"}).then(e=>e.json()).then(t=>{localStorage.setItem("generatedtoken",t.access_token),e((0,h.QI)(document.getElementById("UserName").value,document.getElementById("Password").value))}).catch(()=>{console.log("error")}),e((0,h.VH)(document.getElementById("UserName").value))):(A(!0),b(!0),S("Please enter mobile number (10 digit) or email"),setTimeout(()=>{A(!1)},3e3))},className:"btn btn-secondary mb-4 mt-4",children:"Login Now"}),(0,o.jsx)("br",{}),(0,o.jsx)("strong",{children:"OR"}),(0,o.jsx)("input",{defaultValue:"",type:"hidden",id:"returnurl",name:"returnurl"}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{type:"button",id:"loginUserWithOTPNew",onClick:()=>{$.push("/login")},className:"btn btn-secondary mb-4 mt-4",children:"Login with OTP"})]})]}),(0,o.jsxs)("p",{align:"center",children:["By continuing, you agree to our ",(0,o.jsx)(r(),{onClick:()=>{localStorage.setItem("pagefootert","terms-and-conditions-react"),$.push("/terms-and-conditions")},href:"",style:{color:"dodgerblue",cursor:"pointer",target:"_blank"},children:"Terms & Conditions"})," and ",(0,o.jsx)("a",{href:!0,onClick:()=>{localStorage.setItem("pagefootert","privacy-policy-react"),$.push("/privacy-policy")},to:"/subfooter",style:{color:"dodgerblue",cursor:"pointer",target:"_blank"},children:"Privacy Policy"})]}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:"text-center pt-20 pb-20 top-bordered",children:(0,o.jsx)("p",{children:(0,o.jsxs)("b",{children:["New To Adibuja? ",(0,o.jsx)(r(),{href:"/register",style:{color:"gray"},children:(0,o.jsx)("u",{children:"Create an account"})})]})})}),(0,o.jsx)("div",{className:"text-center pt-20 top-bordered",children:(0,o.jsxs)("section",{children:[(0,o.jsx)("h4",{style:{paddingBottom:"8px"},children:"Use another service to log in."}),(0,o.jsxs)("form",{method:"post",className:"form-horizontal",action:"/Account/ExternalLogin",children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"google-login-div",children:(0,o.jsx)(l.kZ,{style:{width:"25% !important",margin:"auto !important"},onSuccess:t=>{console.log("Google response message",t);let s=(0,m.Z)(t.credential);if(console.log("userObject",s),F(s.email),V(s.given_name),H(s.family_name),""!==s.email){let t={ClientId:1,Title:null,CustGuid:null,Name:s.given_name,LastName:s.family_name,Email:s.email,Company:null,Mobile:null,Phone:null,Fax:null,Password:null,ConfirmPassword:null,Comments:null,TaxId:null,Type:null,PreferredLanguageId:0,designation:null,companyType:null,country:null,state:null,address1:null,address2:null,city:null,statecode:null,selectedCountry:null,selectedState:null,countryCode:null,ZipCode:null,NewsLetterSubscribed:!1,Consignee:null,Telephone:null,isPrimary:!1,isGuest:!1,ReceiveOffers:!1,IsEmailVerified:s.email_verified,IsPhoneVerified:!1,BirthDate:null,CustomerType:1,Extra1:null,SellerId:localStorage.getItem("sellerID")||w.r.defaultSellerID,businessCustomerDetail:{BusinessCustomerDetailsId:0,CustomerId:0,GUID:null,CompanyName:null,GSTNumber:null,BusinessName:null,BusinessAddress:null,BusinessPinCode:null,BusinessCity:null,BusinessState:null,Extra1:null,Extra2:null}};e((0,h.AY)(t))}},onError:e=>{console.log(e),S("Please enter correct gmail password")}})})}),(0,o.jsx)("input",{name:"__RequestVerificationToken",type:"hidden",defaultValue:""}),(0,o.jsx)("input",{name:"__RequestVerificationToken",type:"hidden",defaultValue:""})]})]})})]})})})})})})]})})})})}),(0,o.jsxs)("div",{className:"scroll-top not-visible",children:[" ",(0,o.jsx)("i",{className:"fa fa-angle-up"})," "]}),(0,o.jsx)(I.Z,{})]})}t.default=b},63959:function(){}},function(e){e.O(0,[1664,112,5675,7467,8055,6852,3403,517,3557,9774,2888,179],function(){return e(e.s=73777)}),_N_E=e.O()}]);